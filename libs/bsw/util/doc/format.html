<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>format - Printf-like String Formatting &mdash; Eclipse OpenBSW Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/rtd_theme_overrides.css?v=6fd0d55b" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/colors.css?v=1e44671c" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/colored_table.css?v=b1b74c58" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/header.css?v=4b84dd64" />

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="logger - logger API" href="logger.html" />
    <link rel="prev" title="crc - Cyclic Redundancy Check" href="crc.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../doc/index.html" class="icon icon-home">
            Eclipse OpenBSW Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc/learning/overview.html">Lessons for beginners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc/learning/SysTest/Testing%20Guide.html">Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/UdsTool/doc/index.html">UdsTool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc/codingGuidelines/index.html">Coding Guidelines</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc/platforms/posix/index.html">POSIX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc/platforms/s32k148evb/index.html">S32K148 Evaluation Board</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Application</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/application/doc/index.html">application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/asyncBinding/doc/index.html">asyncBinding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/asyncCoreConfiguration/doc/index.html">asyncCoreConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/configuration/doc/index.html">configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/consoleCommands/doc/index.html">consoleCommands - Command utility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/platforms/posix/freeRtosCoreConfiguration/doc/index.html">freeRtosCoreConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/platforms/posix/main/doc/index.html">main</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/platforms/s32k148evb/bspConfiguration/doc/index.html">bspConfiguration - S32k148EVB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/platforms/s32k148evb/freeRtosCoreConfiguration/doc/index.html">freeRtosCoreConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/platforms/s32k148evb/main/doc/index.html">main</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/transportConfiguration/doc/index.html">transportConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/udsConfiguration/doc/index.html">udsConfiguration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSW Modules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../async/doc/index.html">async - Asynchronous Execution Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../asyncConsole/doc/index.html">asyncConsole - Asynchronous Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../asyncFreeRtos/doc/index.html">asyncFreeRtos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../asyncImpl/doc/index.html">asyncImpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bsp/doc/index.html">bsp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/doc/index.html">common</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commonTimeout/doc/index.html">commonTimeout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cpp2can/doc/index.html">cpp2can - CAN Abstraction Layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docan/doc/index.html">docan - Diagnostics over CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../estd/doc/index.html">estd - Embedded Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../io/doc/index.html">io - IO Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lifecycle/doc/index.html">lifecycle - App Lifecycle Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../logger/doc/index.html">logger - Logger module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../loggerIntegration/doc/index.html">loggerIntegration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platform/doc/index.html">platform - Platform Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../runtime/doc/index.html">runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../stdioConsoleInput/doc/index.html">stdioConsoleInput</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../timer/doc/index.html">timer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../transport/doc/index.html">transport - Transport Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../transportRouterSimple/doc/index.html">transportRouterSimple</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../uds/doc/index.html">uds - Unified Diagnostic Services</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">util - common utilities</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="command.html">command - Command Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="crc.html">crc - Cyclic Redundancy Check</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">format - Printf-like String Formatting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#features">Features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#stringwriter">StringWriter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sharedstringwriter">SharedStringWriter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vt100attributedstringformatter">Vt100AttributedStringFormatter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reusable-funtionality">Reusable funtionality</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="logger.html">logger - logger API</a></li>
<li class="toctree-l2"><a class="reference internal" href="string.html">string - String Handling</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSP Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../bsp/bspCharInputOutput/doc/index.html">bspCharInputOutput</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bsp/bspCommandInterpreterSimple/doc/index.html">bspCommandInterpreterSimple</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bsp/bspDynamicClient/doc/index.html">bspDynamicClient - Dynamic Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bsp/bspError/doc/index.html">bspError</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bsp/bspInputManager/doc/index.html">bspInputManager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bsp/bspInterrupts/doc/index.html">bspInterrupts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bsp/bspOutputManager/doc/index.html">bspOutputManager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bsp/bspOutputPwm/doc/index.html">bspOutputPwm - Output PWM driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bsp/bspTestConsoleWithCommandInterpreter/doc/index.html">bspTestConsoleWithCommandInterpreter</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSP Modules posix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/posix/bsp/bspInterruptsImpl/doc/index.html">bspInterruptsImpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/posix/bsp/bspMcu/doc/index.html">bspMcu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/posix/bsp/bspStdio/doc/index.html">bspStdio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/posix/bsp/bspSystemTime/doc/index.html">bspSystemTime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/posix/bsp/socketCanTransceiver/doc/index.html">socketCanTransceiver</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSP Modules s32k1xx</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspAdc/doc/index.html">bspAdc - ADC driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspClock/doc/index.html">bspClock</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspCore/doc/index.html">bspCore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspFlexCan/doc/index.html">bspFlexCan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspFtm/doc/index.html">bspFtm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspFtmPwm/doc/index.html">bspFtmPwm - FTM driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspInterruptsImpl/doc/index.html">bspInterruptsImpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspIo/doc/index.html">bspIo - IO driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspMcu/doc/index.html">bspMcu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspMcuWatchdog/doc/index.html">bspMcuWatchdog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspSci/doc/index.html">bspSci</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/canflex2Transceiver/doc/index.html">canflex2Transceiver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/hardFaultHandler/doc/index.html">hardFaultHandler</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSP Configuration for s32k148evb</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/platforms/s32k148evb/bspConfiguration/doc/index.html">bspConfiguration - S32k148EVB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/platforms/s32k148evb/freeRtosCoreConfiguration/doc/index.html">freeRtosCoreConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/platforms/s32k148evb/main/doc/index.html">main</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">UT Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/unitTest/bsp/bspConfiguration/doc/index.html">bspConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/unitTest/bsp/bspInterruptsImpl/doc/index.html">bspInterruptsImpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/unitTest/bsp/bspIo/doc/index.html">bspIo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/unitTest/bsp/bspMcu/doc/index.html">bspMcu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/unitTest/bsp/bspSci/doc/index.html">bspSci</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/unitTest/common/doc/index.html">common</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../doc/index.html">Eclipse OpenBSW Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../doc/index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">util - common utilities</a> &raquo;</li>
        
        <li>format - Printf-like String Formatting</li>
    

    

      <li class="wy-breadcrumbs-aside">

        <!-- DOCUMENT STATUS -->

        

        <!-- DATA CLASSIFICATION -->

        

      </li>

    
  </ul>

  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="format-printf-like-string-formatting">
<span id="util-format"></span><h1>format - Printf-like String Formatting<a class="headerlink" href="#format-printf-like-string-formatting" title="Link to this heading"></a></h1>
<p>This module provides classes to format text strings from data. The main intention is to simplify
writing textual data on output streams.</p>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">::util::stream::IOutputStream</span></code> object is not suitable for receiving formatted text
due to its input accepting only bytes and byte buffers. Whenever readable text should be written to
an output stream a <code class="docutils literal notranslate"><span class="pre">::util::format::StringWriter</span></code> object can be instantiated that wraps
the stream and provides printf-like functions for writing:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="o">::</span><span class="n">util</span><span class="o">::</span><span class="n">format</span><span class="o">::</span><span class="n">StringWriter</span><span class="w"> </span><span class="nf">writer</span><span class="p">(</span><span class="n">stream</span><span class="p">);</span>
<span class="n">stream</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;This is a formatted int value: %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">int32Value</span><span class="p">).</span><span class="n">endl</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Link to this heading"></a></h2>
<section id="stringwriter">
<h3>StringWriter<a class="headerlink" href="#stringwriter" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">::util::format::StringWriter</span></code> encapsulates most of the functionality of this sub
module.  Methods are provided for formatting data with a format string and data arguments in a
platform independent style. See <code class="docutils literal notranslate"><span class="pre">::util::format::PrintfFormatter</span></code> for a detailed
description of the format strings.</p>
</section>
<section id="sharedstringwriter">
<h3>SharedStringWriter<a class="headerlink" href="#sharedstringwriter" title="Link to this heading"></a></h3>
<p>Whenever <code class="docutils literal notranslate"><span class="pre">::util::stream::ISharedOutputStream</span></code> objects are provided for temporary mutual
exclusive use one cannot simply write onto the shared stream. The
<code class="docutils literal notranslate"><span class="pre">::util::format::SharedStringWriter</span></code> provides a simple way to</p>
<ul class="simple">
<li><p>start output (lock the stream exclusively) on creation</p></li>
<li><p>provide the <code class="docutils literal notranslate"><span class="pre">::util::format::StringWriter</span></code> functionality upon this temporary allocated
stream</p></li>
<li><p>end output (release the stream) on destruction</p></li>
</ul>
</section>
<section id="vt100attributedstringformatter">
<h3>Vt100AttributedStringFormatter<a class="headerlink" href="#vt100attributedstringformatter" title="Link to this heading"></a></h3>
<p>On small devices the most simple output stream typically is the stdout console stream. While
supported by terminal programs it may be useful to decorate text data by applying VT100 text
attributes to parts of it.  The <code class="docutils literal notranslate"><span class="pre">::util::format::Vt100AttributedStringFormatter</span></code> writes
VT100 format strings for switching on/off attributes and keeps track of all attributes being applied
to a stream. One can instantiate a VT100 formatter object and apply attributes to the text like:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="o">::</span><span class="n">util</span><span class="o">::</span><span class="n">format</span><span class="o">::</span><span class="n">StringWriter</span><span class="w"> </span><span class="nf">writer</span><span class="p">(</span><span class="n">stream</span><span class="p">);</span>
<span class="o">::</span><span class="n">util</span><span class="o">::</span><span class="n">format</span><span class="o">::</span><span class="n">Vt100AttributedStringFormatter</span><span class="w"> </span><span class="n">vt100</span><span class="p">;</span>

<span class="n">stream</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;This is a formatted and attributed int value: &quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">apply</span><span class="p">(</span><span class="n">vt100</span><span class="p">.</span><span class="n">attr</span><span class="p">(</span><span class="o">::</span><span class="n">util</span><span class="o">::</span><span class="n">format</span><span class="o">::</span><span class="n">RED</span><span class="p">))</span>
<span class="w">    </span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">int32Value</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">apply</span><span class="p">(</span><span class="n">vt100</span><span class="p">.</span><span class="n">reset</span><span class="p">())</span>
<span class="w">    </span><span class="p">.</span><span class="n">endl</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="reusable-funtionality">
<h3>Reusable funtionality<a class="headerlink" href="#reusable-funtionality" title="Link to this heading"></a></h3>
<p>A typical printf/sprintf implementation is a monolithic block that scans a format string and applies
it directly to the provided data. This makes the reuse of only parts of the functionality hard. The
Printf functionality is splitted into scanning format strings
(<code class="docutils literal notranslate"><span class="pre">:::util::format::PrintfFormatScanner</span></code>) and performing output on data arguments
(<code class="docutils literal notranslate"><span class="pre">::util::format::PrintfFormatter</span></code>) by providing arbitrary data
(<code class="docutils literal notranslate"><span class="pre">::util::format::IPrintfArgumentReader</span></code>).</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  <div role="footer_string">
    <p>
      Copyright (c) 2024 Accenture
    </p>
    <p>
      Eclipse OpenBSW is a trademark of the Eclipse Foundation.
    </p>
    <p>Documentation from 2024-10-23 20:07:48, UNOFFICIAL BUILD.</p>

    
      <a href="../../../../_sources/libs/bsw/util/doc/format.rst.txt" rel="nofollow"> View page source</a>
    

  </div>

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>