<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Automatic Formatting &mdash; Eclipse OpenBSW Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/rtd_theme_overrides.css?v=6fd0d55b" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/colors.css?v=1e44671c" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/colored_table.css?v=b1b74c58" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/header.css?v=4b84dd64" />

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Coding Practices" href="../../practices.html" />
    <link rel="prev" title="Additional Rules" href="additional.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Eclipse OpenBSW Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Learning</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../learning/overview.html">Lessons for beginners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../learning/SysTest/Testing%20Guide.html">Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/UdsTool/doc/index.html">UdsTool</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Coding Guidelines</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../conventions/index.html">Conventions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Code Formatting</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="formatting.html">clang-format Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="additional.html">Additional Rules</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Automatic Formatting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#clang-format">clang-format</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l5"><a class="reference internal" href="#disable-checks">Disable Checks</a></li>
<li class="toctree-l5"><a class="reference internal" href="#ide-integration">IDE Integration</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#vs-code">VS Code</a></li>
<li class="toctree-l6"><a class="reference internal" href="#vim-builtin-format-operator-gq">Vim Builtin Format Operator gq</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#known-issues-clang-format-17-x">Known Issues clang-format 17.x</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#removing-parentheses">Removing Parentheses</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#header-guard-generation">Header Guard Generation</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#vs-code-include-guard-extension">VS Code Include Guard Extension</a></li>
<li class="toctree-l5"><a class="reference internal" href="#vim-uuid-generation-plugin">Vim UUID Generation Plugin</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../practices.html">Coding Practices</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../platforms/posix/index.html">POSIX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../platforms/s32k148evb/index.html">S32K148 Evaluation Board</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Application</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/application/doc/index.html">application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/asyncBinding/doc/index.html">asyncBinding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/asyncCoreConfiguration/doc/index.html">asyncCoreConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/configuration/doc/index.html">configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/consoleCommands/doc/index.html">consoleCommands - Command utility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/platforms/posix/freeRtosCoreConfiguration/doc/index.html">freeRtosCoreConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/platforms/posix/main/doc/index.html">main</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/platforms/s32k148evb/bspConfiguration/doc/index.html">bspConfiguration - S32k148EVB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/platforms/s32k148evb/freeRtosCoreConfiguration/doc/index.html">freeRtosCoreConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/platforms/s32k148evb/main/doc/index.html">main</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/transportConfiguration/doc/index.html">transportConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/udsConfiguration/doc/index.html">udsConfiguration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSW Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/async/doc/index.html">async - Asynchronous Execution Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/asyncConsole/doc/index.html">asyncConsole - Asynchronous Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/asyncFreeRtos/doc/index.html">asyncFreeRtos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/asyncImpl/doc/index.html">asyncImpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/bsp/doc/index.html">bsp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/common/doc/index.html">common</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/commonTimeout/doc/index.html">commonTimeout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/cpp2can/doc/index.html">cpp2can - CAN Abstraction Layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/docan/doc/index.html">docan - Diagnostics over CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/estd/doc/index.html">estd - Embedded Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/io/doc/index.html">io - IO Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/lifecycle/doc/index.html">lifecycle - App Lifecycle Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/logger/doc/index.html">logger - Logger module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/loggerIntegration/doc/index.html">loggerIntegration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/platform/doc/index.html">platform - Platform Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/runtime/doc/index.html">runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/stdioConsoleInput/doc/index.html">stdioConsoleInput</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/timer/doc/index.html">timer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/transport/doc/index.html">transport - Transport Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/transportRouterSimple/doc/index.html">transportRouterSimple</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/uds/doc/index.html">uds - Unified Diagnostic Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsw/util/doc/index.html">util - common utilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSP Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsp/bspCharInputOutput/doc/index.html">bspCharInputOutput</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsp/bspCommandInterpreterSimple/doc/index.html">bspCommandInterpreterSimple</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsp/bspDynamicClient/doc/index.html">bspDynamicClient - Dynamic Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsp/bspError/doc/index.html">bspError</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsp/bspInputManager/doc/index.html">bspInputManager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsp/bspInterrupts/doc/index.html">bspInterrupts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsp/bspOutputManager/doc/index.html">bspOutputManager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsp/bspOutputPwm/doc/index.html">bspOutputPwm - Output PWM driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../libs/bsp/bspTestConsoleWithCommandInterpreter/doc/index.html">bspTestConsoleWithCommandInterpreter</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSP Modules posix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/posix/bsp/bspInterruptsImpl/doc/index.html">bspInterruptsImpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/posix/bsp/bspMcu/doc/index.html">bspMcu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/posix/bsp/bspStdio/doc/index.html">bspStdio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/posix/bsp/bspSystemTime/doc/index.html">bspSystemTime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/posix/bsp/socketCanTransceiver/doc/index.html">socketCanTransceiver</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSP Modules s32k1xx</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspAdc/doc/index.html">bspAdc - ADC driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspClock/doc/index.html">bspClock</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspCore/doc/index.html">bspCore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspFlexCan/doc/index.html">bspFlexCan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspFtm/doc/index.html">bspFtm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspFtmPwm/doc/index.html">bspFtmPwm - FTM driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspInterruptsImpl/doc/index.html">bspInterruptsImpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspIo/doc/index.html">bspIo - IO driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspMcu/doc/index.html">bspMcu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspMcuWatchdog/doc/index.html">bspMcuWatchdog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/bspSci/doc/index.html">bspSci</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/bsp/canflex2Transceiver/doc/index.html">canflex2Transceiver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/s32k1xx/hardFaultHandler/doc/index.html">hardFaultHandler</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSP Configuration for s32k148evb</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/platforms/s32k148evb/bspConfiguration/doc/index.html">bspConfiguration - S32k148EVB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/platforms/s32k148evb/freeRtosCoreConfiguration/doc/index.html">freeRtosCoreConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/referenceApp/platforms/s32k148evb/main/doc/index.html">main</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">UT Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/unitTest/bsp/bspConfiguration/doc/index.html">bspConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/unitTest/bsp/bspInterruptsImpl/doc/index.html">bspInterruptsImpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/unitTest/bsp/bspIo/doc/index.html">bspIo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/unitTest/bsp/bspMcu/doc/index.html">bspMcu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/unitTest/bsp/bspSci/doc/index.html">bspSci</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../executables/unitTest/common/doc/index.html">common</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Eclipse OpenBSW Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">Coding Guidelines</a> &raquo;</li>
        
          <li><a href="../index.html">Code Formatting</a> &raquo;</li>
        
        <li>Automatic Formatting</li>
    

    

      <li class="wy-breadcrumbs-aside">

        <!-- DOCUMENT STATUS -->

        

        <!-- DATA CLASSIFICATION -->

        

      </li>

    
  </ul>

  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="automatic-formatting">
<span id="formatting-script"></span><h1>Automatic Formatting<a class="headerlink" href="#automatic-formatting" title="Link to this heading"></a></h1>
<p>To format the code, use clang-format 17.</p>
<section id="clang-format">
<h2>clang-format<a class="headerlink" href="#clang-format" title="Link to this heading"></a></h2>
<section id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Link to this heading"></a></h3>
<p>Formatting a file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">clang</span><span class="o">-</span><span class="nb">format</span> <span class="o">-</span><span class="n">style</span><span class="o">=</span><span class="n">file</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">file_to_check</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Formatting several files at once:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">find</span> <span class="n">util</span> <span class="o">-</span><span class="n">iname</span> <span class="o">*.</span><span class="n">h</span> <span class="o">-</span><span class="n">o</span> <span class="o">-</span><span class="n">iname</span> <span class="o">*.</span><span class="n">cpp</span> <span class="o">|</span> <span class="n">xargs</span> <span class="n">clang</span><span class="o">-</span><span class="nb">format</span> <span class="o">-</span><span class="n">style</span><span class="o">=</span><span class="n">file</span> <span class="o">-</span><span class="n">i</span>
</pre></div>
</div>
<p><em>-i</em> edits the files in-place.</p>
</section>
<section id="disable-checks">
<span id="disable-clang-format-code"></span><h3>Disable Checks<a class="headerlink" href="#disable-checks" title="Link to this heading"></a></h3>
<p>Some code sections like tables may look better when manually formatted.</p>
<p>Exclude a piece of code from automatic formatting
with the following comment lines:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// clang-format off</span>
<span class="p">...</span>
<span class="n">code</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">stay</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span>
<span class="p">...</span>
<span class="c1">// clang-format on</span>
</pre></div>
</div>
</section>
<section id="ide-integration">
<h3>IDE Integration<a class="headerlink" href="#ide-integration" title="Link to this heading"></a></h3>
<section id="vs-code">
<span id="vscode-formatting"></span><h4>VS Code<a class="headerlink" href="#vs-code" title="Link to this heading"></a></h4>
<p>Open VS Code, and use the Command Palette (Ctrl+Shift+P) to search for “Tasks: Configure Task”.</p>
<p>Create a new tasks.json file from the template if you don’t already have an existing one.</p>
<p>Select task template “Others”, as we’ll be using these tasks to run arbitrary commands.</p>
<p>Replace the template code in your tasks.json file with the following. If you already have a
personalized tasks.json file, simply add this code instead:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;tasks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;code-format&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shell&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;dependsOrder&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sequence&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;dependsOn&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;run-formatter&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;reload-file&quot;</span><span class="p">]</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;run-formatter&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shell&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;clang-format -style=file -i ${relativeFileDirname}&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;presentation&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;reveal&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;never&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;panel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shared&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;reload-file&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${command:workbench.action.files.revert}&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you’d prefer not to have the auto-reload feature of this task, remove the “reload-file” task.
Though, due to how VS Code works internally, it won’t reload the current file until you switch away
and then back to the modified file.</p>
<p>If you’d like your code to be formatted by the code-format tool on file save, then you’ll need an
add-on to run arbitrary commands upon saving a given file buffer. This suggestion uses the extension
“Run on Save” from emeraldwalk
(<a class="reference external" href="https://marketplace.visualstudio.com/items?itemName=emeraldwalk.RunOnSave">https://marketplace.visualstudio.com/items?itemName=emeraldwalk.RunOnSave</a>)</p>
<p>After installing the add-on, open your settings.json file by using the Command Palette
(Ctrl+Shift+P) to search for “Preferences: Open Settings (JSON)”, then add the following code to it:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;emeraldwalk.runonsave&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;commands&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;match&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.*\\.h$&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;cmd&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;clang-format -style=file -i ${fileDirname}&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Unfortunately, this won’t auto-reload the current file buffer from disk for you, at least not
without switching away and back to the current file. However, it will automatically reformat any of
your code when you save it, so you can be sure your code is always properly formatted.</p>
</section>
<section id="vim-builtin-format-operator-gq">
<h4>Vim Builtin Format Operator gq<a class="headerlink" href="#vim-builtin-format-operator-gq" title="Link to this heading"></a></h4>
<p>You may use vim’s builtin format operator <strong>gq</strong> (see <code class="docutils literal notranslate"><span class="pre">:help</span> <span class="pre">gq</span></code> in case you don’t know it) b
pointing its <em>formatprg</em> option to <em>clang-format</em>, i.e.:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">.vimrc</span><a class="headerlink" href="#id1" title="Link to this code"></a></div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;&quot; Make sure to have &#39;filetype&#39; activated, e.g.
filetype plugin indent on

&quot;&quot; set formatexpr and formatprg when filetype is cpp
au FileType cpp setlocal formatexpr= formatprg=clang-format\ -style=file
</pre></div>
</div>
</div>
<p>This (of course) assumes clang-format being in your $PATH.
You can now apply the formatting e.g. by hitting gq on your selected text:</p>
<img alt="../../../../_images/gq.gif" src="../../../../_images/gq.gif" />
</section>
</section>
<section id="known-issues-clang-format-17-x">
<h3>Known Issues clang-format 17.x<a class="headerlink" href="#known-issues-clang-format-17-x" title="Link to this heading"></a></h3>
<section id="removing-parentheses">
<span id="clang-format-remove-parentheses"></span><h4>Removing Parentheses<a class="headerlink" href="#removing-parentheses" title="Link to this heading"></a></h4>
<p>Multiple parentheses as well as parentheses in return statements should be avoided.</p>
<div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// good</span>
<span class="n">convertBitCounting</span><span class="p">(</span><span class="n">copyByteLength</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">CHAR_BIT</span><span class="p">);</span>

<span class="c1">// bad</span>
<span class="n">convertBitCounting</span><span class="p">((</span><span class="n">copyByteLength</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">CHAR_BIT</span><span class="p">));</span>
</pre></div>
</div>
<div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// good</span>
<span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="n">least_significant_address</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mh">0x01</span><span class="p">;</span>
<span class="k">return</span><span class="w"> </span><span class="n">_subnetOverride</span><span class="p">.</span><span class="n">getMask</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">OVERRIDE_INACTIVE_MASK</span><span class="p">;</span>

<span class="c1">// bad</span>
<span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">least_significant_address</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mh">0x01</span><span class="p">);</span>
<span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">_subnetOverride</span><span class="p">.</span><span class="n">getMask</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">OVERRIDE_INACTIVE_MASK</span><span class="p">);</span>
</pre></div>
</div>
<p>Setting the clang-format option <code class="docutils literal notranslate"><span class="pre">RemoveParentheses</span></code> to <code class="docutils literal notranslate"><span class="pre">ReturnStatement</span></code> would remove these
parentheses, but it breaks our code in too many places, so this option <strong>is not enabled yet</strong>.
Please note a warning in the clang-format documentation:</p>
<blockquote>
<div><p><em>Setting this option to any value other than Leave could lead to incorrect code formatting due
to clang-format’s lack of complete semantic information. As such, extra care should be taken to
review code changes made by this option.</em></p>
</div></blockquote>
</section>
</section>
</section>
<section id="header-guard-generation">
<h2>Header Guard Generation<a class="headerlink" href="#header-guard-generation" title="Link to this heading"></a></h2>
<p>You can create a header guard manually or use one of the following tools.</p>
<section id="vs-code-include-guard-extension">
<h3>VS Code Include Guard Extension<a class="headerlink" href="#vs-code-include-guard-extension" title="Link to this heading"></a></h3>
<p>Install the “C/C++ Include Guard” extension.</p>
<p>Aside from the built-in extension browser, you can also find it here:
<a class="reference external" href="https://marketplace.visualstudio.com/items?itemName=akiramiyakoda.cppincludeguard">https://marketplace.visualstudio.com/items?itemName=akiramiyakoda.cppincludeguard</a>
or here: <a class="reference external" href="https://github.com/AkiraMiyakoda/cppIncludeGuard">https://github.com/AkiraMiyakoda/cppIncludeGuard</a></p>
<p>Next, configure the extension in your settings menu (search &#64;ext:akiramiyakoda.cppincludeguard)
and set the prefix to “GUARD_”.</p>
</section>
<section id="vim-uuid-generation-plugin">
<h3>Vim UUID Generation Plugin<a class="headerlink" href="#vim-uuid-generation-plugin" title="Link to this heading"></a></h3>
<p>Install a UUID generation plugin (here’s one): <a class="reference external" href="https://github.com/kburdett/vim-nuuid">https://github.com/kburdett/vim-nuuid</a></p>
<p>Create a new custom function to use the UUID generator, and insert the appropriate preprocessor
statements:</p>
<div class="highlight-vim notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="p">!</span> GenIncludeGuard<span class="p">()</span>
    <span class="k">let</span> guard  <span class="p">=</span> <span class="k">join</span><span class="p">(</span>[<span class="s2">&quot;GUARD&quot;</span><span class="p">,</span> substitute<span class="p">(</span>NuuidNewUuid<span class="p">(),</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">)</span>]<span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>
    <span class="k">let</span> ifndef <span class="p">=</span> <span class="k">join</span><span class="p">(</span>[<span class="s2">&quot;#ifndef&quot;</span><span class="p">,</span>   guard]<span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="k">let</span> <span class="nb">define</span> <span class="p">=</span> <span class="k">join</span><span class="p">(</span>[<span class="s2">&quot;#define&quot;</span><span class="p">,</span>   guard]<span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="k">let</span> <span class="k">endif</span>  <span class="p">=</span> <span class="k">join</span><span class="p">(</span>[<span class="s2">&quot;#endif //&quot;</span><span class="p">,</span> guard]<span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="c">    &quot; Extra empty strings included here to insert another newline before the endif</span>
    <span class="k">return</span> <span class="k">join</span><span class="p">(</span>[ifndef<span class="p">,</span> <span class="nb">define</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="k">endif</span>]<span class="p">,</span> <span class="s2">&quot;\n&quot;</span><span class="p">)</span>
<span class="k">endfunction</span>
</pre></div>
</div>
<p>Lastly, map this function (along with ancillary operations) to your favorite keystroke combination.
Here’s an example mapping:</p>
<div class="highlight-vim notranslate"><div class="highlight"><pre><span></span><span class="nb">nnoremap</span> <span class="p">&lt;</span>leader<span class="p">&gt;</span><span class="k">u</span> <span class="k">i</span><span class="p">&lt;</span>C<span class="p">-</span>R<span class="p">&gt;=</span>GenIncludeGuard<span class="p">()&lt;</span>CR<span class="p">&gt;&lt;</span>Esc<span class="p">&gt;</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  <div role="footer_string">
    <p>
      Copyright (c) 2024 Accenture
    </p>
    <p>
      Eclipse OpenBSW is a trademark of the Eclipse Foundation.
    </p>
    <p>Documentation from 2024-10-23 20:07:46, UNOFFICIAL BUILD.</p>

    
      <a href="../../../../_sources/doc/codingGuidelines/codeFormatting/for_c++/automatic.rst.txt" rel="nofollow"> View page source</a>
    

  </div>

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>